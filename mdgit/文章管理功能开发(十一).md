文章管理模块主要进行对文章的增删改查。

首先开发列表展示功能，具有查询，列表，分页三部分。

## 一 列表展示功能

### 1.1 模拟接口

url: /article/article/search 

methods: post

描述：文章分页列表

```js
{
  "code": 20000,
  "message": "查询成功", 
  "data": { 
    "total": "@integer(100, 200)", // 总记录数 
    "records|20": [{ //生成20条数据 
    "id|+1": 10, //初始值10开始，每条+1
    "title": "@ctitle", // 标题 
    "viewCount": "@integer(0, 100000)", // 浏览次数 
    "thumhup": "@integer(0, 100000)", // 点赞数 
    "ispublic|1": [0, 1], // 0: 不公开 1：公开 
    "status|1": [0, 1, 2, 3], // 0: 已删除, 1:未审核，2:已审核,3: 审核未通过 
    "updateDate": "@date", }] 
  }
}
```

### 1.2 接口封装

在 src/api 下创建 article.js。

传入的参数与前两章列表查询接口参数相同，为查找条件，当前页码和每页条数。

```js
import request from '@/utils/request'

export default { 
    // 文章列表分页接口 
    getList(query, current = 1, size = 20) { 
        return request({ 
            url: `/article/article/search`, 
            method: 'post', 
            data: { ...query, current, size } 
            // 合并成一个对象 
        }) 
    }, 
}
```

### 1.3 接口调用

创建src/views/article/index.vue(文章管理主页面)，在js部分准备好数据变量与调用查询接口的函数，将返回值赋给数据变量，用于页面展示。

```js
<script>
import api from '@/api/article.js'

export default {
    name: 'Article',
    data(){
        return {
            list: [], 
            page: { // 分页相关 
                total: 0, // 总记录数 
                current: 1, // 当前页码 
                size: 20, // 每页显示20条数据, 
            },
            query: {} // 查询条件
        }
    },
    created(){
        this.fetchData();
    },
    methods: {
        fetchData(){
            api.getList(this.query,this.page.current,this.page.size).then((res) => {
                this.list = res.data.records;
                this.page.total = res.data.total;
                console.log(this.list)
            })
        }
    }
}
</script>
```

